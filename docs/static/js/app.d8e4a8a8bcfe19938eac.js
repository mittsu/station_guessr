webpackJsonp([1],{"9M+g":function(t,n){},AyQ3:function(t,n){},Bo50:function(t,n){},EYnv:function(t,n){},"Hd/e":function(t,n,a){"use strict";var e={render:function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"container"},[a("h3",[t._v("\n    結果発表！\n  ")]),t._v(" "),a("hr"),t._v(" "),a("div",[a("h2",[t._v(t._s(this.$parent.counter.all)+"問中"+t._s(this.$parent.counter.seikai)+"問正解！")]),t._v(" "),0==this.$parent.counter.all?a("p",[t._v("\n      チャレンジしてみよう！\n    ")]):this.$parent.counter.seikai==this.$parent.counter.all?a("p",[t._v("\n      全問正解です！すごい！あなたは真の「駅の場所オタク」です！\n    ")]):this.$parent.counter.seikai/this.$parent.counter.all>.7?a("p",[t._v("\n      7割以上正解！このレベルなら十分この分野でも太刀打ちできそう⁉︎ "),a("br"),t._v("\n      ぜひもう一回チャレンジしてさらなる高正解率を目指そう！\n    ")]):this.$parent.counter.seikai>.3?a("p",[t._v("\n      3割以上正解！普通はこれぐらいだと思いますよ… "),a("br"),t._v("\n      ぜひもう一回チャレンジして高正解率を目指そう！\n    ")]):a("p",[t._v("\n      残念！運が悪かった！ぜひもう一回チャレンジして高正解率を目指そう！\n    ")])]),t._v(" "),a("div",[a("hr"),t._v(" "),a("router-link",{staticClass:"btn btn-primary btn-lg btn-block",attrs:{to:"/play"}},[t._v("もう一回！")])],1)])},staticRenderFns:[]};n.a=e},Jmt5:function(t,n){},NHnr:function(t,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=a("7+uW"),s={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",{attrs:{id:"app"}},[n("h3",[n("router-link",{attrs:{to:"/"}},[this._v("StationGuessr")])],1),this._v(" "),n("router-view")],1)},staticRenderFns:[]};var r=a("VU/8")({name:"App",data:function(){return{counter:{all:0,seikai:0,num:1}}}},s,!1,function(t){a("Ri/Z")},null,null).exports,o=a("/ocq"),l=a("//Fk"),c=a.n(l),u={props:["train_line_name","train_station_name","result","IsCorrect"],name:"modal-answer",methods:{modal_dismiss:function(){document.getElementById("modal-answer").style.display="none"}}},d={render:function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"modal",attrs:{id:"modal-answer",tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[t._v("正解は...")]),t._v(" "),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:t.modal_dismiss}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),t._v(" "),a("div",{staticClass:"modal-body"},[a("p",[t._v(t._s(t.train_line_name))]),t._v(" "),a("h2",[t._v(t._s(t.train_station_name))]),t._v(" "),a("h3",[t._v(" "+t._s(t.result))])]),t._v(" "),a("div",{staticClass:"modal-footer"},[this.$parent.$parent.counter.all<7?a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(n){return t.$emit("restart")}}},[t._v("次へ進む")]):t._e(),t._v(" "),this.$parent.$parent.counter.all>=7?a("router-link",{staticClass:"btn btn-primary",attrs:{to:"/result"}},[t._v("結果発表!")]):t._e(),t._v(" "),t.IsCorrect?t._e():a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:t.modal_dismiss}},[t._v("戻って見てみる")])],1)])])])},staticRenderFns:[]},_=a("VU/8")(u,d,!1,null,null,null).exports,p={props:["options"],name:"modal-option",methods:{modal_dismiss:function(){document.getElementById("modal-option").style.display="none"}}},m={render:function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"modal",attrs:{id:"modal-option",tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[t._v("選択肢")]),t._v(" "),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:t.modal_dismiss}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),t._v(" "),a("div",{staticClass:"modal-body"},[a("ul",{staticClass:"text-left"},t._l(t.options,function(n,e){return a("li",{key:e,staticClass:"btn btn-outline-primary btn-lg",on:{click:function(a){t.$emit("show_answer",n.split(",")[2])}}},[t._v("\n\n            "+t._s(n.split(",")[2]+"駅")+"\n\n          ")])}),0)]),t._v(" "),a("div",{staticClass:"modal-footer"})])])])},staticRenderFns:[]};var h=a("VU/8")(p,m,!1,function(t){a("Bo50")},null,null).exports,v=(a("EYnv"),a("nrd6")),f=a.n(v),b=a("mtWM"),y=a.n(b),g={components:{ModalAnswer:_,ModalOption:h},data:function(){return{station_data_file:Object,train_line_name:"",train_station_name:"",result:"",IsCorrect:!1,options:Object,quiz_data:Object,map:Object,pin_icon:Object,first:!0}},mounted:function(){this.map=f.a.map("map"),this.pin_icon=f.a.icon({iconUrl:"static/train_icon2.png",iconSize:[40,40],iconAnchor:[25,25],popupAnchor:[0,-50]}),f.a.tileLayer("https://cyberjapandata.gsi.go.jp/xyz/seamlessphoto/{z}/{x}/{y}.jpg",{attribution:"<a href='https://maps.gsi.go.jp/development/ichiran.html' target='_blank'>地理院タイル</a>|駅データ:<a href='http://www.ekidata.jp' target='_blank'>駅データ.jp</a>"}).addTo(this.map),this.map.setView([35.6812958,139.7648991],14),this.station_data_file="./static/station_data/stations_kanto.csv",this.$parent.counter.all=0,this.$parent.counter.seikai=0,this.$parent.counter.num=1,this.init()},methods:{init:function(){var t=this;t.get_station().then(function(n){return t.quiz_data=n,t.options=n.options,t.map_render()}).catch(function(t){console.log("ERROR",t)})},get_station:function(){var t=this;return new c.a(function(n,a){y.a.get(t.station_data_file).then(function(e){var i=e.data;""==i&&a("error at reading csv file",e);for(var s=i.split("\n"),r=[],o={},l=t.random_int_array(s.length,4),c=Math.floor(4*Math.random()),u=0;u<l.length;u++)r.push(s[l[u]]);var d=s[l[c]].split(",");t.get_line_name(d[5]).then(function(t){o.name=d[2],o.lon=d[9],o.lat=d[10],o.line_id=d[5],o.line_pref=d[6],o.line_name=t,n({options:r,answer:d,answer_data:o})})})})},wiki:function(t){return new c.a(function(n,a){var e=t.line_name[0],s={format:"json",action:"query",list:"search",srlimit:4,srnamespace:0,srsearch:t.name+"駅 "+e.replace(/JR/g,"")};y.a.post("http://ja.wikipedia.org/w/api.php",s).done(function(e){var s=!1;for(i=0;i<e.query.search.length;i++)if(e.query.search[i].title==t.name+"駅"){var r=e.query.search[i].pageid;s=!0,null!=r?n("https://ja.wikipedia.org?curid="+r):(a(e),console.log("@wiki something wrong",e))}0==s&&n(e)}).fail(function(){console.log("ERROR",data),a(data)})})},get_line_name:function(t){return new c.a(function(n,a){y.a.get("./static/station_data/line20180424free.csv").then(function(e){for(var i=e.data.split("\n"),s=!1,r=[],o=0;o<i.length;o++)if((r=i[o].split(","))[0]==t){n([r[2],r[3]]),s=!0;break}0==s&&a("路線が見つかりませんでした get_line_name()")})})},map_render:function(){var t=this;return new c.a(function(n,a){var e=t.quiz_data.answer_data;t.map.setView([e.lat,e.lon],16),f.a.marker([e.lat,e.lon],{icon:t.pin_icon}).addTo(t.map),t.train_station_name=e.name+"駅",t.train_line_name=e.line_name[0],n()})},random_int_array:function(t,n){for(var a=[],e=0;e<n;e++){var i=Math.floor(Math.random()*(t+1));a.includes(i)||a.push(i)}return a},show_answer:function(t){document.getElementById("modal-answer").style.display="block",document.getElementById("modal-option").style.display="none",1==this.first&&(this.$parent.counter.all++,this.first=!1,t==this.quiz_data.answer_data.name?(this.result="正解❗",this.IsCorrect=!0,this.$parent.counter.seikai++):(this.result="❌不正解❌",this.IsCorrect=!1))},show_options:function(t){(this.first=!0)&&(document.getElementById("modal-option").style.display="block")},restart:function(t){document.getElementById("modal-option").style.display="none",document.getElementById("modal-answer").style.display="none",this.first=!0,this.$parent.counter.num++,this.init()}}},k={render:function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",[a("div",{staticClass:"container"},[a("modal-answer",{attrs:{train_line_name:t.train_line_name,train_station_name:t.train_station_name,result:t.result,IsCorrect:t.IsCorrect},on:{restart:t.restart}}),t._v(" "),a("modal-option",{attrs:{options:t.options},on:{show_answer:t.show_answer}})],1),t._v(" "),a("div",{attrs:{id:"map"}}),t._v(" "),a("div",{attrs:{id:"counter"}},[a("p",{staticClass:"question_num"},[t._v(t._s(this.$parent.counter.num)+" / 7")])]),t._v(" "),this.first?a("div",{staticClass:"btn btn-lg btn-primary",attrs:{id:"select_button"},on:{click:t.show_options}},[t._v("選ぶ")]):t._e(),t._v(" "),this.first?t._e():a("div",{staticClass:"btn btn-lg btn-primary",attrs:{id:"select_button"},on:{click:t.show_answer}},[t._v("次へ")])])},staticRenderFns:[]};var w=a("VU/8")(g,k,!1,function(t){a("kTH9")},null,null).exports,C=a("Pexp"),$=a("mKPe");e.a.use(o.a);var E=new o.a({routes:[{path:"/",name:"title",component:C.default},{path:"/play",name:"main",component:w},{path:"/result",name:"result",component:$.default}]});a("Jmt5"),a("9M+g");e.a.config.productionTip=!1,new e.a({el:"#app",router:E,components:{App:r},template:"<App/>"})},Pexp:function(t,n,a){"use strict";var e=a("UhfR"),i=a.n(e),s=a("WYly");var r=function(t){a("TrkA")},o=a("VU/8")(i.a,s.a,!1,r,null,null);n.default=o.exports},"Ri/Z":function(t,n){},TrkA:function(t,n){},UhfR:function(t,n){},WYly:function(t,n,a){"use strict";var e={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"container"},[n("h3",[this._v("\n    ようこそStationGuessrへ!\n  ")]),this._v(" "),n("hr"),this._v(" "),this._m(0),this._v(" "),n("div",[n("hr"),this._v(" "),n("router-link",{staticClass:"btn btn-primary btn-lg btn-block",attrs:{to:"/play"}},[this._v("始める!")])],1)])},staticRenderFns:[function(){var t=this.$createElement,n=this._self._c||t;return n("div",[n("h4",[this._v("概要")]),this._v(" "),n("p",[n("a",{attrs:{href:"https://geoguessr.com/",target:"_blank"}},[this._v("GeoGuessr")]),this._v("に感銘を受け、鉄道好きとしてはこういったものをつくったら面白いのではないかと思い制作しました。\n      "),n("br"),this._v("詳しい説明は"),n("a",{attrs:{href:"https://github.com/yuukami1024/station_guessr",target:"_blank"}},[this._v("Github")]),this._v("の方から。\n    ")])])}]};n.a=e},kTH9:function(t,n){},mKPe:function(t,n,a){"use strict";var e=a("AyQ3"),i=a.n(e),s=a("Hd/e");var r=function(t){a("qX9W")},o=a("VU/8")(i.a,s.a,!1,r,null,null);n.default=o.exports},qX9W:function(t,n){}},["NHnr"]);
//# sourceMappingURL=app.d8e4a8a8bcfe19938eac.js.map